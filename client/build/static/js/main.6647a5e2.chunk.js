(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{26:function(e,t,n){e.exports=n.p+"static/media/eqworks-white.a38a88ef.png"},27:function(e,t,n){e.exports=n(64)},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},61:function(e,t,n){},62:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),l=n(8),c=n.n(l),o=n(1),s=n(6),i=n(9),u=n(7),m=n(2),E=n(24),p=n.n(E),y={dataList:[],filteredData:[],searchTerm:"",sortBy:"default",minValues:{events:0,impressions:0,clicks:0,revenue:0},showEvents:!1,showStats:!0,showHourly:!0,error:{bool:!1}};var d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;if("GET_DATA_LIST"===t.type)return Object(m.a)({},e,{error:Object(m.a)({},e.error,{bool:!1}),dataList:Object(u.a)(t.payload),filteredData:Object(u.a)(t.payload)});if("FILTER_DATA_LIST"===t.type){var n={shouldSort:!0,keys:["location"]},a=new p.a(e.dataList,n),r=(""===e.searchTerm?e.dataList:a.search(e.searchTerm)).sort((function(t,n){return n[e.sortBy]-t[e.sortBy]})).filter((function(t){var n=!0,a=!0,r=!0,l=!0;return t.events&&parseInt(t.events)<=e.minValues.events&&(n=!1),t.impressions&&parseInt(t.impressions)<=e.minValues.impressions&&(a=!1),t.clicks&&parseInt(t.clicks)<=e.minValues.clicks&&(r=!1),t.revenue&&parseInt(t.revenue)<=e.minValues.revenue&&(l=!1),n&&a&&r&&l}));return Object(m.a)({},e,{filteredData:Object(u.a)(r)})}return"SHOW_EVENTS"===t.type?Object(m.a)({},e,{showEvents:!0,showStats:!1}):"SHOW_STATS"===t.type?Object(m.a)({},e,{showEvents:!1,showStats:!0}):"SHOW_HOURLY"===t.type?Object(m.a)({},e,{showHourly:t.payload}):"SET_SORT_BY"===t.type?Object(m.a)({},e,{sortBy:t.payload}):"SET_MIN_VALUE"===t.type?Object(m.a)({},e,{minValues:Object(m.a)({},e.minValues,Object(i.a)({},t.payload.type,t.payload.value))}):"SET_ERROR"===t.type?Object(m.a)({},e,{error:Object(m.a)({},e.error,{bool:!0,message:t.payload})}):"SET_SEARCH_TERM"===t.type?Object(m.a)({},e,{searchTerm:t.payload}):"RESET"===t.type?Object(m.a)({},e,{filteredData:Object(u.a)(e.dataList),filteredDataByMin:Object(u.a)(e.dataList),searchTerm:"",minValues:{events:0,impressions:0,clicks:0,revenue:0},sortBy:"default"}):e},f=n(25),v=s.c,b=Object(s.d)(d,v(Object(s.a)(f.a))),h=n(10),S=n.n(h);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function O(e){return function(t){return S.a.get(e).then((function(e){t({type:"GET_DATA_LIST",payload:e.data})})).catch((function(e){t({type:"SET_ERROR",payload:e.response.data})}))}}function T(e){return{type:"SHOW_HOURLY",payload:e}}n(55);function j(e){return r.a.createElement("button",{onClick:e.onClick},e.label)}n(56);function _(e){var t=Object(o.c)((function(t){return t.minValues[e.type]})),n=Object(o.b)();return r.a.createElement("div",{className:"range-slider"},r.a.createElement("h6",null,e.type),r.a.createElement("h6",null,"Min: ",t),r.a.createElement("input",{className:"min-slider",type:"range",min:e.min,max:e.max,value:t,onChange:function(t){return function(t){var a,r;n((a=e.type,r=t.target.value,{type:"SET_MIN_VALUE",payload:{type:a,value:r}})),n({type:"FILTER_DATA_LIST"})}(t)},step:e.step}))}n(57);function g(e){var t=Object(o.c)((function(e){return e.showEvents})),n=Object(o.c)((function(e){return e.showStats})),a=Object(o.c)((function(e){return e.sortBy})),l=Object(o.b)();return r.a.createElement("div",{className:"dropdown"},r.a.createElement("h6",null,e.label),r.a.createElement("select",{name:"Sort By",value:a,onChange:function(e){return function(e){l({type:"SET_SORT_BY",payload:e.target.value}),l({type:"FILTER_DATA_LIST"})}(e)}},r.a.createElement("option",{disabled:!0,value:"default"}),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("option",{value:"impressions"},"Impressions"),r.a.createElement("option",{value:"clicks"},"Clicks"),r.a.createElement("option",{value:"revenue"},"Revenue")),t&&r.a.createElement("option",{value:"events"},"Events")))}n(58);function w(){var e=Object(o.c)((function(e){return e.showEvents})),t=Object(o.c)((function(e){return e.showStats})),n=Object(o.c)((function(e){return e.searchTerm})),a=Object(o.b)();return r.a.createElement("div",{id:"search-container"},r.a.createElement("input",{id:"search-bar",placeholder:"Search by location",value:n,onChange:function(e){return function(e){var t=e.target.value;a(function(e){return{type:"SET_SEARCH_TERM",payload:e}}(t)),a({type:"FILTER_DATA_LIST"})}(e)}}),r.a.createElement(j,{id:"reset-button",label:"Reset",onClick:function(){a({type:"RESET"})}}),t&&r.a.createElement(r.a.Fragment,null,r.a.createElement(_,{type:"impressions",min:0,max:3e5,step:1e4}),r.a.createElement(_,{type:"clicks",min:0,max:500,step:10}),r.a.createElement(_,{type:"revenue",min:0,max:1e3,step:100})),e&&r.a.createElement(_,{type:"events",min:0,max:100,step:10}),r.a.createElement(g,{label:"Sort By"}))}n(59);function R(){var e=Object(o.c)((function(e){return e.filteredData})),t=Object(o.c)((function(e){return e.showEvents})),n=Object(o.c)((function(e){return e.showStats})),l=Object(o.c)((function(e){return e.showHourly})),c=Object(o.b)();Object(a.useEffect)((function(){c(O("/stats/hourly"))}),[c]);var s=e.map((function(e,a){return r.a.createElement("tr",{key:a},r.a.createElement("td",null,e.date.slice(0,10)),l&&r.a.createElement("td",null,function(e){var t,n=e;return 0===n?(n=12,t="AM"):n>=1&&n<=11?t="AM":12===n?t="PM":(n-=12,t="PM"),"".concat(n,":00 ").concat(t)}(e.hour)),r.a.createElement("td",null,e.location),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("td",null,parseInt(e.impressions).toLocaleString("en-US")),r.a.createElement("td",null,parseInt(e.clicks).toLocaleString("en-US")),r.a.createElement("td",null,parseFloat(e.revenue).toLocaleString("en-US",{style:"currency",currency:"CAD",minimumFractionDigits:2}))),t&&r.a.createElement("td",null,e.events))}));return r.a.createElement("table",{id:"data-table"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Date"),l&&r.a.createElement("th",null,"Time"),r.a.createElement("th",null,"Location"),n&&r.a.createElement(r.a.Fragment,null,r.a.createElement("th",null,"Impressions"),r.a.createElement("th",null,"Clicks"),r.a.createElement("th",null,"Revenue")),t&&r.a.createElement("th",null,"Events"))),r.a.createElement("tbody",null,s))}var k=n(26),L=n.n(k);n(60);function A(e){var t=Object(o.b)();return r.a.createElement("header",null,r.a.createElement("img",{src:L.a,alt:"EQ Works logo"}),r.a.createElement("div",{id:"nav-bar"},r.a.createElement(j,{label:"Daily Events",onClick:function(){t(O("/events/daily")),t({type:"SHOW_EVENTS"}),t(T(!1)),t({type:"RESET"})}}),r.a.createElement(j,{label:"Hourly Events",onClick:function(){t(O("/events/hourly")),t({type:"SHOW_EVENTS"}),t(T(!0)),t({type:"RESET"})}}),r.a.createElement(j,{label:"Daily Stats",onClick:function(){t(O("/stats/daily")),t({type:"SHOW_STATS"}),t(T(!1)),t({type:"RESET"})}}),r.a.createElement(j,{label:"Hourly Stats",onClick:function(){t(O("/stats/hourly")),t({type:"SHOW_STATS"}),t(T(!0)),t({type:"RESET"})}})))}n(61);function I(e){return r.a.createElement("h3",{className:"error-message"},e.message)}n(62);var D=function(){var e=Object(o.c)((function(e){return e.error}));return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,null),r.a.createElement("div",{id:"app-container"},r.a.createElement(w,null),e.bool?r.a.createElement(I,{message:e.message}):r.a.createElement(R,null)))};n(63);S.a.defaults.baseURL="https://eqworks-api.herokuapp.com",c.a.render(r.a.createElement(o.a,{store:b},r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.6647a5e2.chunk.js.map